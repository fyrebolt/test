
<!DOCTYPE html>

<html>
    <head>
        <title>Create an account!</title>
        <link rel = "icon" href = "https://codehs.com/uploads/087a60099c4c7aaf57c828469b09bf93">
        <link rel = "stylesheet" href = "firebasetest.css"
    </head>
    
    <div class = "parallaxblackheader"></div>
    
    <div class="topnav">
        <a href = "index.html">Home</a>
        <a href = "https://www.youtube.com/watch?v=dQw4w9WgXcQ">My Youtube Channel</a>
        <a href = "about.html">About Me!</a>
        <a href = "projects.html">Other Projects</a>
        <a class = "active">Firebase</a>
    </div>
    
    <script src="https://www.gstatic.com/firebasejs/8.6.4/firebase.js"></script>
    
    <script>
        function hideChatButton(){
            document.getElementById("chatButton").style.visibility = "hidden";
            document.getElementById("bjButton").style.visibility = "hidden";
        }
    </script>
     
    <script>
         function goToChat(){
            var user = firebase.auth().currentUser;
            
            var userEmail = user.email;
            
            sessionStorage.setItem("userEmail", userEmail);
            
            var name=sessionStorage.getItem("userEmail");
            
            window.location.replace('https://hastinchen.codehs.me/chat.html');
        }
    </script>
    
    <script>
         function goToBJ(){
            window.location.replace('https://hastinchen.codehs.me/bj.html');
        }
    </script>
    
    <script>
        const firebaseConfig = {
          apiKey: "AIzaSyAGwOTyLlmGwOn44EUhVemcC6dXT53bfSo",
          authDomain: "hyphenhacks2023.firebaseapp.com",
          databaseURL: "https://hyphenhacks2023-default-rtdb.firebaseio.com",
          projectId: "hyphenhacks2023",
          storageBucket: "hyphenhacks2023.appspot.com",
          messagingSenderId: "458861648474",
          appId: "1:458861648474:web:33b28ea03e0d5bb7e1d663",
          measurementId: "G-6SBQ0J0GZJ"
        };

        firebase.initializeApp(firebaseConfig);

    </script>

    
    <script>
        function register(){
            var email = document.getElementById("userText").value;
            var password = document.getElementById("pswdText").value;
            firebase.auth().signInWithEmailAndPassword(email, password)
              .then((userCredential) => {
                document.getElementById("chatButton").style.visibility = "visible";
                document.getElementById("bjButton").style.visibility = "visible";
                window.alert("You are logged in!");
              })
              .catch((error) => {
                var errorCode = error.code;
                var errorMessage = error.message;
                window.alert("Error: " + errorMessage);
              });
        }
    </script>
    
    <script>
        function createAccount(){
            var email = document.getElementById("makeUser").value;
            var password = document.getElementById("makePswd").value;
            
            firebase.auth().createUserWithEmailAndPassword(email, password)
              .then((userCredential) => {
                var user = userCredential.user;
                window.alert("Creation success!")
              })
              .catch((error) => {
                var errorCode = error.code;
                var errorMessage = error.message;
                
                window.alert("Error: "+ errorMessage);
            });
        }
    </script>
    
    <body onload = "hideChatButton()">
        <h3>Welcome to hh/place</h3>
        
        <h4 id="messageInput">Make an account here!</h4>
        <input placeholder="Enter email" id="makeUser">
        <input type="password" placeholder="Enter password" id="makePswd">
        <br>
        <input type="button" value="Create Account" onclick="createAccount()">
    </body>
    
</html>
